<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Signaler un incident</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <form [formGroup]="Form" (ngSubmit)="submit(Form)" class="mt-2 w-100 ion-padding" novalidate>
      
    <ion-item lines="full">
      <ion-label position="floating">Date incident *</ion-label>
      <ion-input formControlName="dateIncident" id="dateIncident" type="date"></ion-input>
    </ion-item>

      <span class="error ion-padding" *ngIf="isSubmitted && errorControl.dateIncident.errors?.required">
        date incident is required.
      </span>
      <span class="error ion-padding" *ngIf="isSubmitted && errorControl.dateIncident.errors?.minlength">
        date incident should be min 2 chars long.
      </span>

      <ion-item lines="full">
        <ion-label position="floating">Code *</ion-label>
        <ion-input formControlName="code" type="text" ></ion-input>
      </ion-item>

        <span class="error ion-padding" *ngIf="isSubmitted && errorControl.code.errors?.required">
          Code Procedure Ouverture is required.
        </span>
        <span class="error ion-padding" *ngIf="isSubmitted && errorControl.code.errors?.minlength">
          Code Procedure Ouverture should be min 2 chars long.
        </span>

      <ion-item lines="full">
        <ion-label position="floating">Valider *</ion-label>
        <ion-checkbox formControlName="valider" checked="true" ></ion-checkbox>
      </ion-item>

        <span class="error ion-padding" *ngIf="isSubmitted && errorControl.valider.errors?.required">
          valider is required.
        </span>
        <span class="error ion-padding" *ngIf="isSubmitted && errorControl.valider.errors?.minlength">
          valider should be min 2 chars long.
        </span>

      <ion-item lines="full">
        <ion-label position="floating">Description *</ion-label>
        <ion-textarea formControlName="description" id="description" type="text" ></ion-textarea>
      </ion-item>

        <span class="error ion-padding" *ngIf="isSubmitted && errorControl.description.errors?.required">
          Description is required.
        </span>
        <span class="error ion-padding" *ngIf="isSubmitted && errorControl.description.errors?.minlength">
          Description should be min 2 chars long.
        </span>

      <!-- <ion-item lines="full">
        <ion-label>Notification *</ion-label>
        <ion-checkbox formControlName="notification" id="notification" color="ligth"></ion-checkbox>
      </ion-item>

        <span class="error ion-padding" *ngIf="isSubmitted && errorControl.prenom.errors?.required">
          Prenom is required.
        </span> -->

      <ion-item lines="full" formGroupName="type_incidentEntity" formArrayName="type_incidentEntity" >
        <ion-label>Type incidentEntity *</ion-label>
        <ion-select placeholder="Select One" formControlName="idTypeIncident">
          <ion-select-option *ngFor="let x of List1"  value={{x.idTypeIncident}} >{{x.libelle}}</ion-select-option>
          <!-- <ion-select-option value="m">Male</ion-select-option> -->
        </ion-select>
      </ion-item>

      <span class="error ion-padding" *ngIf="isSubmitted && errorControl.type_incidentEntity.errors?.required">
        Type incidentEntity is required.
      </span>

  </form>

  <div class="mt-3 text-center">
    <ion-button expand="block" fill="outline" (click)="submit(Form)" [disabled]="!Form.valid">
      <ion-icon slot="start" name="add"></ion-icon>
      Ajouter
    </ion-button>
  </div>

</ion-content>
