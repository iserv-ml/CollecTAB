
<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Resultats</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-button routerLink="/resultat-add" shape="round" fill="outline"expand="block" >Transmission des r√©sultats du scrutin </ion-button>

  <!-- <ion-item color="secondary"> -->
  <ion-item>
    <ion-label>
      LISTE DES RESULTATS
    </ion-label>
  </ion-item>

  <!-- <ion-button color="success">Mise a jour</ion-button> -->
  <!-- <ion-button color="warning">Exporter</ion-button> -->

  <ion-searchbar class="main-searchbar" debounce="500" placeholder="Filter Schedules" animated></ion-searchbar>

  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource">
  
      <!-- Position Column -->
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef> No. </th>
        <td mat-cell *matCellDef="let element"> {{element.idResultat}} </td>
      </ng-container>

      <!-- Weight Column -->
      <ng-container matColumnDef="phase">
        <th mat-header-cell *matHeaderCellDef> Phase </th>
        <td mat-cell *matCellDef="let element"> {{element.affectationagentEntity.phase_electionEntity.libelle}} </td>
      </ng-container>
  
      <!-- Name Column -->
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef> Date </th>
        <td mat-cell *matCellDef="let element"> {{element.dateResultat | date : "dd MMMM y HH:MM:ss"}} </td>
      </ng-container>
  
      <!-- Symbol Column -->
      <ng-container matColumnDef="agent">
        <th mat-header-cell *matHeaderCellDef> Agent </th>
        <td mat-cell *matCellDef="let element"> {{element.affectationagentEntity.agentTerrainEntity.nom}} {{element.affectationagentEntity.agentTerrainEntity.prenom}} </td>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="bureauVote">
        <th mat-header-cell *matHeaderCellDef> Bureaux de vote </th>
        <td mat-cell *matCellDef="let element"> {{element.affectationagentEntity.bureauvoteEntity.nom}} </td>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="candidats">
        <th mat-header-cell *matHeaderCellDef> Candidats </th>
        <td mat-cell *matCellDef="let element"> {{element.allianceEntity}} </td>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="suffrage">
        <th mat-header-cell *matHeaderCellDef> Suffrage </th>
        <td mat-cell *matCellDef="let element"> {{element.suffrage}} </td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef> View </th>
        <td mat-cell *matCellDef="let element">
          <ion-buttons (click)="openIonModal(element.idResultat)">
            <ion-icon name="open-outline"></ion-icon>
          </ion-buttons>
        </td>
      </ng-container>

      <ng-container matColumnDef="update">
        <th mat-header-cell *matHeaderCellDef> 	Autoriser renvoi  </th>
        <td mat-cell *matCellDef="let element">
          <ion-buttons (click)="openIonModalUpdate(element.idResultat)">
            <ion-icon name="create-outline"></ion-icon>
          </ion-buttons>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  
    <mat-paginator [pageSizeOptions]="[5, 10, 20]"
                   showFirstLastButtons 
                   aria-label="Select page of periodic elements">
    </mat-paginator>
  </div>

</ion-content>